<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>体适能评估问卷</title>
  <style>
    body { font-family: sans-serif; background: #f5f5f5; padding: 20px; }
    .box {
      background: white; padding: 20px; border-radius: 12px;
      max-width: 400px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 { text-align: center; }
    input, select, button {
      width: 100%; padding: 10px; margin-top: 10px;
      font-size: 16px; border-radius: 6px; border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      background: #4CAF50; color: white; border: none; cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #45a049;
    }
    .result {
      margin-top: 20px; font-weight: bold;
      font-size: 1.1em; line-height: 1.5em;
      white-space: pre-line;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="box">
    <h2>体适能评估问卷</h2>
    <select id="gender">
      <option value="">请选择性别</option>
      <option value="male">男</option>
      <option value="female">女</option>
    </select>
    <input type="number" id="age" placeholder="年龄（岁）" min="20" max="59" />
<input type="number" id="bmi" placeholder="BMI" step="0.1" min="0" />
    <input type="number" id="bodyFat" placeholder="体脂率（%）" min="0" step="0.1" />
    <input type="number" id="lung" placeholder="肺活量（mL）" min="0" />
    <input type="number" id="grip" placeholder="握力（公斤）" min="0" step="0.1" />
   <input type="number" id="oneLeg" placeholder="单腿闭眼站立（秒）" min="0" />
    <input type="number" id="bend" placeholder="坐位体前屈（厘米）" step="0.1" />
 
    <button id="submitBtn">评估</button>
    <div class="result" id="result"></div>
  </div>

<script>
  const scoreList = [10,30,50,55,60,65,70,75,80,85,90,95,100];
  const fatBmiScoreList = [60, 100, 60, 20];  // 体脂和BMI评分用

  // BMI评分区间
  const bmiRanges = [[null,18.4],[18.5,23.9],[24.0,27.9],[28.0,null]];

  // 体脂评分区间 男性
  const maleBodyFatRanges = {
  "20-24": [[null,10.2],[10.3,17.2],[17.3,28.6],[28.7,null]],
  "25-29": [[null,11.5],[11.6,21.2],[21.3,29.7],[29.8,null]],
  "30-34": [[null,12.1],[12.2,23.3],[23.4,30.1],[30.2,null]],
  "35-39": [[null,12.6],[12.7,23.8],[23.9,29.9],[30.0,null]],
  "40-44": [[null,13.2],[13.3,23.9],[24.0,29.7],[29.8,null]],
  "45-49": [[null,13.4],[13.5,23.8],[23.9,29.4],[29.5,null]],
  "50-54": [[null,13.5],[13.6,23.6],[23.7,29.3],[29.4,null]],
  "55-59": [[null,13.5],[13.6,23.5],[23.6,29.4],[29.5,null]]
  };

  // 体脂评分区间 女性
  const femaleBodyFatRanges = {
    "20-24": [[null,14.2],[14.3,23.9],[24.0,31.6],[31.7,null]],
    "25-29": [[null,16.1],[16.2,25.6],[25.7,32.8],[32.9,null]],
    "30-34": [[null,17.8],[17.9,27.4],[27.5,34.0],[34.1,null]],
    "35-39": [[null,19.2],[19.3,28.6],[28.7,34.8],[34.9,null]],
    "40-44": [[null,20.5],[20.6,29.5],[29.6,35.2],[35.3,null]],
    "45-49": [[null,21.7],[21.8,30.3],[30.4,35.8],[35.9,null]],
    "50-54": [[null,22.2],[22.3,31.1],[31.2,36.6],[36.7,null]],
    "55-59": [[null,22.5],[22.6,31.7],[31.8,37.2],[37.3,null]]
  };

  const scoreTables = {
    male: {
      lungCapacity: {
        "20-24": [[null,2283],[2284,2472],[2473,2953],[2954,3233],[3234,3451],[3452,3642],[3643,3825],[3826,4022],[4023,4253],[4254,4561],[4562,4782],[4783,5126],[5127,null]],
        "25-29": [[null,2274],[2275,2459],[2460,2932],[2933,3207],[3208,3422],[3423,3611],[3612,3793],[3794,3988],[3989,4218],[4219,4524],[4525,4744],[4745,5088],[5089,null]],
        "30-34": [[null,2198],[2199,2375],[2376,2830],[2831,3096],[3097,3304],[3305,3487],[3488,3663],[3664,3852],[3853,4075],[4076,4374],[4375,4589],[4590,4927],[4928,null]],
        "35-39": [[null,2098],[2099,2270],[2271,2712],[2713,2971],[2972,3173],[3174,3351],[3352,3522],[3523,3707],[3708,3926],[3927,4221],[4222,4433],[4434,4768],[4769,null]],
        "40-44": [[null,1994],[1995,2159],[2160,2587],[2588,2838],[2839,3034],[3035,3207],[3208,3374],[3375,3554],[3555,3768],[3769,4057],[4058,4267],[4268,4599],[4600,null]],
        "45-49": [[null,1895],[1896,2053],[2054,2463],[2464,2704],[2705,2894],[2895,3062],[3063,3223],[3224,3399],[3400,3607],[3608,3890],[3891,4095],[4096,4420],[4421,null]],
        "50-54": [[null,1776],[1777,1926],[1927,2319],[2320,2553],[2554,2738],[2739,2902],[2903,3061],[3062,3234],[3235,3440],[3441,3718],[3719,3920],[3921,4239],[4240,null]],
        "55-59": [[null,1620],[1621,1761],[1762,2137],[2138,2366],[2367,2550],[2551,2715],[2716,2877],[2878,3053],[3054,3260],[3261,3539],[3540,3741],[3742,4058],[4059,null]]
      },
      gripStrength: {
        "20-24": [[null,28.9],[29.0,30.7],[30.8,35.5],[35.6,38.3],[38.4,40.4],[40.5,42.4],[42.5,44.2],[44.3,46.2],[46.3,48.4],[48.5,51.4],[51.5,53.5],[53.6,56.6],[56.7,null]],
  "25-29": [[null,29.5],[29.6,31.4],[31.5,36.2],[36.3,39.1],[39.2,41.3],[41.4,43.2],[43.3,45.1],[45.2,47.1],[47.2,49.4],[49.5,52.4],[52.5,54.4],[54.5,57.6],[57.7,null]],
  "30-34": [[null,29.8],[29.9,31.7],[31.8,36.5],[36.6,39.3],[39.4,41.5],[41.6,43.5],[43.6,45.4],[45.5,47.3],[47.4,49.6],[49.7,52.5],[52.6,54.6],[54.7,57.7],[57.8,null]],
  "35-39": [[null,29.5],[29.6,31.4],[31.5,36.2],[36.3,38.9],[39.0,41.1],[41.2,43.1],[43.2,44.9],[45.0,46.9],[47.0,49.1],[49.2,51.9],[52.0,53.9],[54.0,56.9],[57.0,null]],
  "40-44": [[null,29.2],[29.3,31.1],[31.2,35.8],[35.9,38.6],[38.7,40.8],[40.9,42.7],[42.8,44.5],[44.6,46.5],[46.6,48.6],[48.7,51.5],[51.6,53.4],[53.5,56.3],[56.4,null]],
  "45-49": [[null,28.8],[28.9,30.6],[30.7,35.3],[35.4,38.0],[38.1,40.1],[40.2,42.0],[42.1,43.8],[43.9,45.8],[45.9,47.9],[48.0,50.7],[50.8,52.6],[52.7,55.5],[55.6,null]],
  "50-54": [[null,28.0],[28.1,29.7],[29.8,34.2],[34.3,36.9],[37.0,39.0],[39.1,40.8],[40.9,42.6],[42.7,44.5],[44.6,46.7],[46.8,49.5],[49.6,51.4],[51.5,54.4],[54.5,null]],
  "55-59": [[null,26.1],[26.2,27.8],[27.9,32.3],[32.4,35.0],[35.1,37.1],[37.2,39.0],[39.1,40.8],[40.9,42.7],[42.8,44.9],[45.0,47.7],[47.8,49.6],[49.7,52.6],[52.7,null]]
      },
      seatedForwardBend: {
        "20-24": [[null,-9.0],[-8.9,-6.5],[-6.4,0.8],[-0.7,2.2],[2.3,4.4],[4.5,6.4],[6.5,8.3],[8.4,10.2],[10.3,12.5],[12.6,15.5],[15.6,17.7],[17.8,21.2],[21.3,null]],
  "25-29": [[null,-10.4],[-10.3,-7.9],[-7.8,-2.2],[-2.1,0.8],[0.9,3.0],[3.1,5.0],[5.1,6.9],[7.0,8.9],[9.0,11.1],[11.2,14.1],[14.2,16.3],[16.4,19.8],[19.9,null]],
  "30-34": [[null,-11.3],[-11.2,-8.8],[-8.7,-3.1],[-3.0,-0.1],[0.0,2.2],[2.3,4.2],[4.3,6.1],[6.2,8.0],[8.1,10.3],[10.4,13.3],[13.4,15.5],[15.6,19.0],[19.1,null]],
  "35-39": [[null,-11.6],[-11.5,-9.1],[-9.0,-3.3],[-3.2,-0.3],[-0.2,1.9],[2.0,3.9],[4.0,5.8],[5.9,7.8],[7.9,10.0],[10.1,13.0],[13.1,15.2],[15.3,18.7],[18.8,null]],
  "40-44": [[null,-11.5],[-11.4,-9.0],[-8.9,-3.3],[-3.2,-0.3],[-0.2,2.0],[2.1,3.9],[4.0,5.8],[5.9,7.8],[7.9,10.1],[10.2,13.1],[13.2,15.3],[15.4,18.8],[18.9,null]],
  "45-49": [[null,-11.7],[-11.6,-9.2],[-9.1,-3.4],[-3.3,-0.4],[-0.3,1.8],[1.9,3.8],[3.9,5.7],[5.8,7.7],[7.8,9.9],[10.0,12.9],[13.0,15.1],[15.2,18.7],[18.8,null]],
  "50-54": [[null,-12.2],[-12.1,-9.7],[-9.6,-4.0],[-3.9,-0.9],[-0.8,1.3],[1.4,3.3],[3.4,5.2],[5.3,7.2],[7.3,9.4],[9.5,12.4],[12.5,14.6],[14.7,18.2],[18.3,null]],
  "55-59": [[null,-13.1],[-13.0,-10.6],[-10.5,-4.8],[-4.7,-1.8],[-1.7,0.4],[0.5,2.4],[2.5,4.3],[4.4,6.3],[6.4,8.6],[8.7,11.6],[11.7,13.8],[13.9,17.3],[17.4,null]]
      },
      oneLegStanding: {
       "20-24": [[null,3],[4,4],[5,8],[9,11],[12,15],[16,18],[19,23],[24,29],[30,37],[38,50],[51,62],[63,85],[86,null]],
  "25-29": [[null,3],[4,4],[5,7],[8,10],[11,14],[15,17],[18,21],[22,27],[28,34],[35,47],[48,58],[59,79],[80,null]],
  "30-34": [[null,3],[4,4],[5,7],[8,10],[11,13],[14,16],[17,20],[21,25],[26,32],[33,44],[45,55],[56,75],[76,null]],
  "35-39": [[null,3],[4,4],[5,7],[8,9],[10,12],[13,15],[16,18],[19,23],[24,30],[31,41],[42,51],[52,70],[71,null]],
  "40-44": [[null,3],[4,4],[5,6],[7,8],[9,11],[12,13],[14,16],[17,21],[22,27],[28,36],[37,45],[46,63],[64,null]],
  "45-49": [[null,2],[3,3],[4,5],[6,7],[8,9],[10,11],[12,14],[15,17],[18,22],[23,31],[32,38],[39,54],[55,null]],
  "50-54": [[null,2],[3,3],[4,5],[6,6],[7,8],[9,10],[11,12],[13,15],[16,19],[20,26],[27,32],[33,45],[46,null]],
  "55-59": [[null,2],[3,3],[4,4],[5,6],[7,7],[8,8],[9,10],[11,13],[14,16],[17,22],[23,27],[28,37],[38,null]]
      }
    },
    female: {
      lungCapacity: {
         "20-24": [[null,1597],[1598,1710],[1711,2009],[2010,2189],[2190,2332],[2333,2460],[2461,2584],[2585,2720],[2721,2886],[2887,3115],[3116,3284],[3285,3558],[3559,null]],
        "25-29": [[null,1554],[1555,1671],[1672,1976],[1977,2159],[2160,2304],[2305,2433],[2434,2559],[2560,2695],[2696,2860],[2861,3085],[3086,3249],[3250,3512],[3513,null]],
        "30-34": [[null,1492],[1493,1610],[1611,1919],[1920,2104],[2105,2249],[2250,2379],[2380,2504],[2505,2641],[2642,2804],[2805,3025],[3026,3186],[3187,3442],[3443,null]],
        "35-39": [[null,1427],[1428,1545],[1546,1853],[1854,2036],[2037,2181],[2182,2310],[2311,2434],[2435,2570],[2571,2731],[2732,2950],[2951,3110],[3111,3364],[3365,null]],
        "40-44": [[null,1363],[1364,1476],[1477,1775],[1776,1953],[1954,2095],[2096,2220],[2221,2342],[2343,2475],[2476,2634],[2635,2852],[2853,3011],[3012,3264],[3265,null]],
        "45-49": [[null,1299],[1300,1406],[1407,1690],[1691,1861],[1862,1997],[1998,2119],[2120,2237],[2238,2367],[2368,2523],[2524,2738],[2739,2896],[2897,3149],[3150,null]],
        "50-54": [[null,1242],[1243,1343],[1344,1614],[1615,1780],[1781,1913],[1914,2032],[2033,2149],[2150,2277],[2278,2432],[2433,2646],[2647,2803],[2804,3056],[3057,null]],
        "55-59": [[null,1150],[1151,1246],[1247,1505],[1506,1666],[1667,1796],[1797,1913],[1914,2030],[2031,2157],[2158,2310],[2311,2519],[2520,2672],[2673,2917],[2918,null]]
      },
      gripStrength: {
         "20-24": [[null,17.2],[17.3,18.3],[18.4,21.1],[21.2,22.9],[23.0,24.3],[24.4,25.6],[25.7,26.9],[27.0,28.3],[28.4,29.9],[30.0,32.0],[32.1,33.4],[33.5,35.7],[35.8,null]],
  "25-29": [[null,17.2],[17.3,18.3],[18.4,21.2],[21.3,22.9],[23.0,24.3],[24.4,25.6],[25.7,26.9],[27.0,28.2],[28.3,29.8],[29.9,31.9],[32.0,33.3],[33.4,35.5],[35.6,null]],
  "30-34": [[null,17.4],[17.5,18.6],[18.7,21.5],[21.6,23.3],[23.4,24.7],[24.8,26.0],[26.1,27.3],[27.4,28.6],[28.7,30.2],[30.3,32.2],[32.3,33.7],[33.8,35.9],[36.0,null]],
  "35-39": [[null,17.5],[17.6,18.6],[18.7,21.7],[21.8,23.5],[23.6,24.9],[25.0,26.2],[26.3,27.5],[27.6,28.8],[28.9,30.4],[30.5,32.4],[32.5,33.8],[33.9,35.9],[36.0,null]],
  "40-44": [[null,17.5],[17.6,18.7],[18.8,21.8],[21.9,23.7],[23.8,25.1],[25.2,26.4],[26.5,27.7],[27.8,29.0],[29.1,30.5],[30.6,32.5],[32.6,33.9],[34.0,36.1],[36.2,null]],
  "45-49": [[null,17.3],[17.4,18.5],[18.6,21.5],[21.6,23.3],[23.4,24.7],[24.8,26.0],[26.1,27.3],[27.4,28.6],[28.7,30.1],[30.2,32.1],[32.2,33.5],[33.6,35.7],[35.8,null]],
  "50-54": [[null,16.7],[16.8,17.8],[17.9,20.7],[20.8,22.4],[22.5,23.8],[23.9,25.1],[25.2,26.3],[26.4,27.6],[27.7,29.1],[29.2,31.1],[31.2,32.5],[32.6,34.8],[34.9,null]],
  "55-59": [[null,15.9],[16.0,17.1],[17.2,20.0],[20.1,21.8],[21.9,23.2],[23.3,24.4],[24.5,25.6],[25.7,26.9],[27.0,28.4],[28.5,30.5],[30.6,31.9],[32.0,34.1],[34.2,null]]
      },
      seatedForwardBend: {
        "20-24": [[null,-4.4],[-4.3,-2.0],[-1.9,3.4],[3.5,6.3],[6.4,8.4],[8.5,10.3],[10.4,12.1],[12.2,14.0],[14.1,16.1],[16.2,19.0],[19.1,21.1],[21.2,24.4],[24.5,null]],
  "25-29": [[null,-5.6],[-5.5,-3.2],[-3.1,2.3],[2.4,5.1],[5.2,7.3],[7.4,9.2],[9.3,11.0],[11.1,12.9],[13.0,15.0],[15.1,17.9],[18.0,20.0],[20.1,23.4],[23.5,null]],
  "30-34": [[null,-6.6],[-6.5,-4.2],[-4.1,1.3],[1.4,4.2],[4.3,6.3],[6.4,8.2],[8.3,10.0],[10.1,11.9],[12.0,14.1],[14.2,16.9],[17.0,19.0],[19.1,22.4],[22.5,null]],
  "35-39": [[null,-7.1],[-7.0,-4.7],[-4.6,0.8],[0.9,3.7],[3.8,5.8],[5.9,7.7],[7.8,9.5],[9.6,11.4],[11.5,13.6],[13.7,16.5],[16.6,18.6],[18.7,21.9],[22.0,null]],
  "40-44": [[null,-7.1],[-7.0,-4.7],[-4.6,0.8],[0.9,3.7],[3.8,5.9],[6.0,7.8],[7.9,9.6],[9.7,11.5],[11.6,13.7],[13.8,16.5],[16.6,18.6],[18.7,22.0],[22.1,null]],
  "45-49": [[null,-7.1],[-7.0,-4.7],[-4.6,0.8],[0.9,3.7],[3.8,5.9],[6.0,7.8],[7.9,9.7],[9.8,11.6],[11.7,13.8],[13.9,16.7],[16.8,18.8],[18.9,22.2],[22.3,null]],
  "50-54": [[null,-7.1],[-7.0,-4.7],[-4.6,0.8],[1.0,3.8],[3.9,6.1],[6.2,8.0],[8.1,9.8],[9.9,11.8],[11.9,14.0],[14.1,16.9],[17.0,19.1],[19.2,22.5],[22.6,null]],
  "55-59": [[null,-7.5],[-7.4,-5.0],[-4.9,0.6],[0.7,3.6],[3.7,5.9],[6.0,7.8],[7.9,9.7],[9.8,11.6],[11.7,13.9],[14.0,16.9],[17.0,19.0],[19.1,22.5],[22.6,null]]
      },
      oneLegStanding: {
        "20-24": [[null,4],[5,5],[6,9],[10,12],[13,16],[17,20],[21,25],[26,32],[33,40],[41,55],[56,67],[68,89],[90,null]],
  "25-29": [[null,4],[5,5],[6,8],[9,12],[13,15],[16,19],[20,24],[25,30],[31,39],[40,52],[53,64],[65,86],[87,null]],
  "30-34": [[null,3],[4,4],[5,8],[9,11],[12,14],[15,18],[19,22],[23,28],[29,35],[36,48],[49,59],[60,80],[81,null]],
  "35-39": [[null,3],[4,4],[5,7],[8,10],[11,13],[14,16],[17,20],[21,26],[27,33],[34,45],[46,55],[56,75],[76,null]],
  "40-44": [[null,3],[4,4],[5,6],[7,9],[10,12],[13,15],[16,19],[20,23],[24,30],[31,41],[42,51],[52,71],[72,null]],
  "45-49": [[null,3],[4,3],[4,6],[7,8],[9,10],[11,13],[14,16],[17,20],[21,25],[26,35],[36,44],[45,62],[63,null]],
  "50-54": [[null,2],[3,3],[4,5],[6,7],[8,8],[9,10],[11,13],[14,16],[17,21],[22,28],[29,36],[37,51],[52,null]],
  "55-59": [[null,2],[3,3],[4,4],[5,5],[6,7],[8,8],[9,10],[11,13],[14,16],[17,22],[23,28],[29,39],[40,null]]
      }
    }
  };

  // 获取年龄段
  function getAgeGroup(age) {
    if(age >= 20 && age <= 24) return "20-24";
    if(age >= 25 && age <= 29) return "25-29";
    if(age >= 30 && age <= 34) return "30-34";
    if(age >= 35 && age <= 39) return "35-39";
    if(age >= 40 && age <= 44) return "40-44";
    if(age >= 45 && age <= 49) return "45-49";
    if(age >= 50 && age <= 54) return "50-54";
    if(age >= 55 && age <= 59) return "55-59";
    return null;
  }

  // 评分函数：可传不同分值列表
  function getScore(value, ranges, scores) {
    for(let i=0; i<ranges.length; i++) {
      let [min,max] = ranges[i];
      if ((min === null || value >= min) && (max === null || value <= max)) {
        return scores[i];
      }
    }
    return 0;
  }

  // 计算BMI


  document.getElementById("submitBtn").addEventListener("click", () => {
    const gender = document.getElementById("gender").value;
    const age = parseInt(document.getElementById("age").value);
   const bmi = parseFloat(document.getElementById("bmi").value);
    const bodyFat = parseFloat(document.getElementById("bodyFat").value);
    const lung = parseFloat(document.getElementById("lung").value);
    const grip = parseFloat(document.getElementById("grip").value);
    const bend = parseFloat(document.getElementById("bend").value);
    const oneLeg = parseFloat(document.getElementById("oneLeg").value);

    if (!gender) { alert("请选择性别"); return; }
    if (!age || age < 20 || age > 59) { alert("请输入20-59岁有效年龄"); return; }
    if ([bmi, bodyFat, lung, grip, bend, oneLeg].some(v => isNaN(v))) {
      alert("请填写所有项目的有效数值");
      return;
    }

    const ageGroup = getAgeGroup(age);
    if (!ageGroup) { alert("年龄不在评分范围"); return; }



    // 选择体脂评分区间
    let bodyFatRanges = gender === "male" ? maleBodyFatRanges : femaleBodyFatRanges;

    // 评分计算
    const bmiScore = getScore(bmi, bmiRanges, fatBmiScoreList);
    const bodyFatScore = getScore(bodyFat, bodyFatRanges[ageGroup], fatBmiScoreList);

    // 其他项目评分，假设scoreTables中有对应数据，若无则显示0
    const lungScore = scoreTables[gender]?.lungCapacity ? getScore(lung, scoreTables[gender].lungCapacity[ageGroup], scoreList) : 0;
    const gripScore = scoreTables[gender]?.gripStrength ? getScore(grip, scoreTables[gender].gripStrength[ageGroup], scoreList) : 0;
    const bendScore = scoreTables[gender]?.seatedForwardBend ? getScore(bend, scoreTables[gender].seatedForwardBend[ageGroup], scoreList) : 0;
    const oneLegScore = scoreTables[gender]?.oneLegStanding ? getScore(oneLeg, scoreTables[gender].oneLegStanding[ageGroup], scoreList) : 0;

    // 总分6项平均
    const totalScore = 0.25 * lungScore + 0.2 * gripScore + 0.2 * bendScore + 0.2 * oneLegScore + 0.05 * bmiScore + 0.1 * bodyFatScore;
       // 显示结果
    document.getElementById("result").textContent =
      `BMI分数: ${bmiScore}\n` +
      `体脂率分数: ${bodyFatScore}\n` +
      `肺活量分数: ${lungScore}\n` +
      `握力分数: ${gripScore}\n` +
      `单腿闭眼站立分数: ${oneLegScore}\n` +
      `坐位体前屈分数: ${bendScore}\n` +
      `总体适能评分: ${totalScore}`;
  });
</script>
</body>
</html>
